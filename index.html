<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SMIT Extreme Quiz — HTML + React + Tailwind (Single File)</title>
  <!-- Tailwind Play CDN (good for quick deploys/prototypes) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small custom styles */
    .option-selected { box-shadow: 0 0 0 3px rgba(59,130,246,0.12); }
  </style>
</head>
<body class="bg-gray-50">
  <div id="root" class="min-h-screen flex items-center justify-center p-6"></div>

  <!-- React + ReactDOM + Babel (for JSX in-browser). Fine for a single-file deploy on Netlify. -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- App: written in JSX and compiled by Babel in the browser -->
  <script type="text/babel">
  const { useState } = React;

  // Quiz data: 5 topics × 11 extreme MCQs (55 total)
  const QUIZ_DATA = [
    { topic: 'General Knowledge', id: 'gk', questions: [
      { id: 'gk1', q: 'Which treaty, signed in 1648, is widely considered to have established the modern system of sovereign states in Europe?', options: ['Treaty of Westphalia','Treaty of Utrecht','Treaty of Versailles','Treaty of Tordesillas'], answer: 0 },
      { id: 'gk2', q: 'The Richter magnitude scale and the moment magnitude scale (Mw) differ most significantly in what way?', options: ['Mw is based on seismic moment and works for large quakes','Richter uses energy release measured by moment','Mw applies only to earthquakes before 1900','Richter is logarithmic while Mw is linear'], answer: 0 },
      { id: 'gk3', q: 'Which civilisation built the city of Cahokia, noted for its large earthen mounds, near present-day St. Louis?', options: ['Mississippian culture','Ancestral Puebloans','Iroquoian Confederacy','Hopewell tradition'], answer: 0 },
      { id: 'gk4', q: 'Which scientist proposed the concept of continental drift in 1912, prior to plate tectonic theory?', options: ['Alfred Wegener','Arthur Holmes','Harry Hess','Vine & Matthews'], answer: 0 },
      { id: 'gk5', q: 'The Svalbard Global Seed Vault is located on which island and why is it placed there?', options: ['Spitsbergen — permafrost and political stability','Greenland — proximity to research stations','Iceland — geothermal stable temperatures','Falklands — isolation and low seismicity'], answer: 0 },
      { id: 'gk6', q: 'Which economist introduced the idea of the "invisible hand" in market economies?', options: ['Adam Smith','David Ricardo','John Maynard Keynes','Thomas Malthus'], answer: 0 },
      { id: 'gk7', q: 'Which international body was created by the 1947 General Agreement on Tariffs and Trade (GATT) successor in 1995?', options: ['World Trade Organization (WTO)','International Monetary Fund (IMF)','World Bank','United Nations Conference on Trade and Development (UNCTAD)'], answer: 0 },
      { id: 'gk8', q: 'Which device, invented by Charles Babbage, is considered a direct mechanical precursor to modern programmable computers?', options: ['Analytical Engine','Difference Engine','Tabulating Machine','Jacquard Loom'], answer: 0 },
      { id: 'gk9', q: 'Who wrote the 1859 work that transformed biology by proposing natural selection?', options: ['Charles Darwin','Alfred Russel Wallace','Gregor Mendel','Jean-Baptiste Lamarck'], answer: 0 },
      { id: 'gk10', q: 'Which country’s legal system is the primary historical source of the common law tradition?', options: ['England','France','Germany','Spain'], answer: 0 },
      { id: 'gk11', q: 'The Tethys Ocean existed between which two major landmasses in the Mesozoic?', options: ['Gondwana and Laurasia','Pangaea and Rodinia','Eurasia and Africa','North America and South America'], answer: 0 }
    ]},

    { topic: 'Islamiyat', id: 'islamiyat', questions: [
      { id: 'is1', q: 'Which surah of the Qur\'an is named after a battle that took place in the second year of Hijra and addresses rules on spoils of war and mutiny?', options: ['Al-Anfal','Al-Fath','At-Tawbah','Al-Imran'], answer: 0 },
      { id: 'is2', q: 'Who was the last of the rightly-guided caliphs (Rashidun) according to Sunni tradition?', options: ['Ali ibn Abi Talib','Uthman ibn Affan','Muawiyah I','Abu Bakr Siddiq'], answer: 0 },
      { id: 'is3', q: 'Which Islamic scholar compiled one of the earliest and most authoritative collections of hadith, Sahih al-Bukhari, in which century?', options: ['9th century CE','7th century CE','11th century CE','13th century CE'], answer: 0 },
      { id: 'is4', q: 'In Quranic exegesis, the term "Asbab al-Nuzul" refers to what?', options: ['Circumstances/reasons of revelation','Legal rulings derived from a verse','Allegorical interpretations','Compilation order of surahs'], answer: 0 },
      { id: 'is5', q: 'Which Arabic term refers to the prophetic biography and accounts of the Prophet Muhammad\'s life?', options: ['Sira','Fiqh','Tafsir','Hadith'], answer: 0 },
      { id: 'is6', q: 'Which Islamic school of jurisprudence (madhhab) is historically dominant in the Indian subcontinent and parts of the Ottoman Empire?', options: ['Hanafi','Maliki','Shafi\'i','Hanbali'], answer: 0 },
      { id: 'is7', q: 'Which night is believed to be better than a thousand months according to the Quran?', options: ['Laylat al-Qadr','Isra wa Miraj','Laylat al-Bara\'ah','Laylat al-Raghaib'], answer: 0 },
      { id: 'is8', q: 'In Islamic theology, which attribute of God is described by the Arabic term "Rahman"?', options: ['Most Merciful','All-Knowing','All-Powerful','Most Just'], answer: 0 },
      { id: 'is9', q: 'The treaty that the Prophet Muhammad concluded with the people of Medina, establishing mutual rights and responsibilities, is commonly called what?', options: ['The Constitution of Medina','Treaty of Hudaybiyyah','Pact of Aqabah','Treaty of Hudaibiyyah'], answer: 0 },
      { id: 'is10', q: 'Which companion is famous for narrating the most hadiths after the Prophet (according to most counts)?', options: ['Abu Hurairah','Aisha bint Abi Bakr','Anas ibn Malik','Abdullah ibn Abbas'], answer: 0 },
      { id: 'is11', q: 'Which early Islamic caliphate moved its capital to Damascus and oversaw major expansion into North Africa and Central Asia?', options: ['Umayyad Caliphate','Abbasid Caliphate','Rashidun Caliphate','Fatimid Caliphate'], answer: 0 }
    ]},

    { topic: 'Mathematics', id: 'math', questions: [
      { id: 'm1', q: 'Let f(x)=x^x for x>0. What is f\'(x) in simplest form?', options: ['x^x(ln x + 1)','x^{x-1}(ln x + 1)','x^x(1/x + 1)','x^x ln x'], answer: 0 },
      { id: 'm2', q: 'If the matrix A = [[2,1],[1,2]] has eigenvalues λ1 and λ2, what are they?', options: ['3 and 1','2 and 2','1 and -1','4 and 0'], answer: 0 },
      { id: 'm3', q: 'Solve for x: 2^(2x) = 8^(x+1) / 2.', options: ['x = 1','x = 0','x = -1','x = 2'], answer: 0 },
      { id: 'm4', q: 'A sequence a_n satisfies a_{n+2} = 6 a_{n+1} - 9 a_n. If a_0=2 and a_1=6, find a_2.', options: ['18','30','54','42'], answer: 0 },
      { id: 'm5', q: 'What is the sum of the reciprocals of the triangular numbers: sum_{n=1}^∞ 1/(n(n+1)/2)?', options: ['2','1','3/2','4/3'], answer: 0 },
      { id: 'm6', q: 'If z is a complex root of z^2 + 1 = 0, what is z^7?', options: ['-i','i','1','-1'], answer: 0 },
      { id: 'm7', q: 'Find the area enclosed by one loop of the polar curve r = 2 sin(3θ).', options: ['π/6','π/3','π/12','π/2'], answer: 0 },
      { id: 'm8', q: 'If the series sum_{n=1}^∞ (n!) / n^n converges or diverges?', options: ['Converges (by ratio/stirling comparison)','Diverges (terms don't go to zero)','Diverges (p-test)','Converges conditionally but not absolutely'], answer: 0 },
      { id: 'm9', q: 'What is the derivative of arctan(x) with respect to x?', options: ['1/(1+x^2)','1/(1-x^2)','arctan\'(x)=1/x','1/(1+x)'], answer: 0 },
      { id: 'm10', q: 'If p is a prime greater than 3, which of the following is always true about p^2 -1?', options: ['Divisible by 24','Divisible by 16','Prime','Divisible by 12 but not 24'], answer: 0 },
      { id: 'm11', q: 'Solve for real x: ln(x) + ln(x-1) = 0.', options: ['x = (1+√5)/2','x = (1-√5)/2','x = 1','No real solution'], answer: 0 }
    ]},

    { topic: 'English', id: 'english', questions: [
      { id: 'e1', q: 'Choose the option that best completes the sentence: "Had I known of the complication, I ______ to consult a specialist."', options: ['would have chosen','had chosen','will have chosen','would choose'], answer: 0 },
      { id: 'e2', q: 'Identify the sentence with a correct use of the subjunctive mood.', options: ['It is essential that she be present at once.','She was that she be present at once.','She is essential that she is present.','It is essential that she was present.'], answer: 0 },
      { id: 'e3', q: 'Which word is closest in meaning to "obfuscate"?', options: ['Confuse','Illuminate','Support','Predict'], answer: 0 },
      { id: 'e4', q: 'Select the correctly punctuated sentence.', options: ['The committee — tired and divided — postponed the vote.','The committee, tired and divided postponed the vote.','The committee tired and divided — postponed the vote.','The committee tired, and divided postponed the vote.'], answer: 0 },
      { id: 'e5', q: 'Choose the option that best paraphrases: "She deigned to help."', options: ['She reluctantly lowered herself to help.','She eagerly rushed to help.','She refused to help politely.','She was proud to offer help.'], answer: 0 },
      { id: 'e6', q: 'Which word is an antonym of "laconic"?', options: ['Verbose','Terse','Succinct','Pithy'], answer: 0 },
      { id: 'e7', q: 'Choose the correct relative pronoun: "The candidate, ______ resume I admired, failed to secure the post."', options: ['whose','whom','which','that'], answer: 0 },
      { id: 'e8', q: 'Which sentence demonstrates parallel structure?', options: ['She likes reading, jogging, and to swim.','She likes to read, jog, and swim.','She likes reading, to jog, and swimming.','She likes read, jogging, and to swim.'], answer: 1 },
      { id: 'e9', q: 'Identify the passive voice version of: "They will finish the project by Friday."', options: ['The project will be finished by Friday.','The project will finish by Friday.','The project is finished by Friday.','By Friday, the project will finish.'], answer: 0 },
      { id: 'e10', q: 'Pick the best word to complete the analogy: "Harangue is to praise as lambaste is to ______."', options: ['criticize','applaud','ignore','observe'], answer: 1 },
      { id: 'e11', q: 'Which sentence contains a correct idiomatic expression?', options: ['He kicked the bucket last year (meaning: died).','He kicked the habit last year (meaning: died).','He kicked the ball last year (idiom for quitting).','He kicked the habit last year (meaning: started a habit).'], answer: 0 }
    ]},

    { topic: 'IQ (Computer)', id: 'iq', questions: [
      { id: 'iq1', q: 'Which data structure guarantees O(1) average-time complexity for insertion, deletion, and lookup (amortized), assuming a good hash function?', options: ['Hash table','Binary search tree','Linked list','Heap'], answer: 0 },
      { id: 'iq2', q: 'In a directed acyclic graph (DAG), the algorithm to order vertices so that for every directed edge u→v, u comes before v is called what?', options: ['Topological sort','Dijkstra\'s algorithm','Kruskal\'s algorithm','Bellman-Ford algorithm'], answer: 0 },
      { id: 'iq3', q: 'Which complexity class contains decision problems for which a given solution can be verified in polynomial time?', options: ['NP','P','PSPACE','EXP'], answer: 0 },
      { id: 'iq4', q: 'Which sorting algorithm has worst-case O(n log n) time and is typically implemented with divide-and-conquer but requires careful pivot selection?', options: ['Merge sort','Quick sort (with median-of-three)','Heap sort','Bubble sort'], answer: 1 },
      { id: 'iq5', q: 'Which of the following best describes a red-black tree?', options: ['A self-balancing binary search tree with color properties ensuring height is O(log n)','An unbalanced BST optimized for insertions','A heap variant using two colors','A B-tree specialized for disk storage'], answer: 0 },
      { id: 'iq6', q: 'If a program has time complexity O(n^2) and you double the input size n, roughly how many times longer will it take?', options: ['About 4 times','About 2 times','About same','About 8 times'], answer: 0 },
      { id: 'iq7', q: 'Which logic gate is functionally complete (i.e., alone can be used to implement any Boolean function)?', options: ['NAND','AND','OR','XOR'], answer: 0 },
      { id: 'iq8', q: 'In relational databases, normal form that removes transitive dependencies and requires that non-key attributes are dependent only on the primary key is called?', options: ['Third Normal Form (3NF)','First Normal Form (1NF)','Boyce-Codd Normal Form (BCNF)','Second Normal Form (2NF)'], answer: 0 },
      { id: 'iq9', q: 'Which protocol is connectionless and operates on top of IP, often used for streaming and DNS?', options: ['UDP','TCP','HTTP','FTP'], answer: 0 },
      { id: 'iq10', q: 'Which model divides computer architecture into five functional components: input, output, memory, control unit, and arithmetic logic unit?', options: ['Von Neumann architecture','Harvard architecture','Turing machine model','Godel architecture'], answer: 0 },
      { id: 'iq11', q: 'Which of the following describes the halting problem?', options: ['An undecidable problem — no algorithm can determine for all programs whether they halt','A problem solvable in polynomial time','A problem solvable only by quantum computers','A practical debugging tool for compilers'], answer: 0 }
    ]}
  ];

  function QuizApp(){
    const [topicIndex, setTopicIndex] = useState(null);
    const [current, setCurrent] = useState(0);
    const [answers, setAnswers] = useState({});
    const [showResults, setShowResults] = useState(false);

    const startTopic = (i) => { setTopicIndex(i); setCurrent(0); setAnswers({}); setShowResults(false); window.scrollTo(0,0); };
    const topic = topicIndex === null ? null : QUIZ_DATA[topicIndex];

    const selectOption = (qid, idx) => { setAnswers(s => ({...s, [qid]: idx})); };
    const next = () => { if(!topic) return; if(current < topic.questions.length -1) setCurrent(c => c+1); else setShowResults(true); window.scrollTo(0,0); };
    const prev = () => { if(!topic) return; if(current > 0) setCurrent(c => c-1); window.scrollTo(0,0); };

    const clearAnswer = (qid) => { setAnswers(s => { const copy = {...s}; delete copy[qid]; return copy; }); };
    const score = () => { if(!topic) return 0; return topic.questions.reduce((acc,q)=> acc + ((answers[q.id]===q.answer)?1:0),0); };

    return (
      <div className="w-full max-w-5xl bg-white rounded-2xl shadow-lg p-6">
        <h1 className="text-2xl md:text-3xl font-bold mb-4">SMIT — Extreme Preparation Quiz</h1>
        <p className="text-sm text-gray-600 mb-6">HTML + React + Tailwind — deploy this single file to Netlify. Each topic contains 11 very challenging MCQs designed for SMIT-level prep.</p>

        {topicIndex === null && (
          <div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              {QUIZ_DATA.map((t,i) => (
                <button key={t.id} onClick={() => startTopic(i)} className="p-4 border rounded-xl text-left hover:shadow-md transition">
                  <div className="text-lg font-semibold">{t.topic}</div>
                  <div className="text-sm text-gray-600">{t.questions.length} questions — extreme</div>
                </button>
              ))}
            </div>
          </div>
        )}

        {topic && !showResults && (
          <div className="mt-4">
            <div className="flex justify-between items-center mb-3">
              <div className="text-sm text-gray-600">Topic: <strong>{topic.topic}</strong></div>
              <div className="text-sm text-gray-600">Question {current+1} / {topic.questions.length}</div>
            </div>

            <div className="p-4 border rounded-xl">
              <div className="mb-4 text-lg md:text-xl font-medium">{topic.questions[current].q}</div>
              <div className="grid gap-3">
                {topic.questions[current].options.map((opt,i)=>{
                  const qid = topic.questions[current].id;
                  const selected = answers[qid] === i;
                  return (
                    <button key={i} onClick={() => selectOption(qid,i)} className={`p-3 text-left rounded-lg border flex items-center gap-3 ${selected? 'bg-blue-50 border-blue-300 option-selected' : 'hover:bg-gray-50'}`}>
                      <div className="w-6 font-mono">{String.fromCharCode(65+i)}</div>
                      <div className="flex-1">{opt}</div>
                    </button>
                  );
                })}
              </div>

              <div className="flex justify-between mt-4">
                <button onClick={prev} className="px-4 py-2 rounded-md border">Previous</button>
                <div className="flex gap-2">
                  <button onClick={()=> clearAnswer(topic.questions[current].id)} className="px-3 py-2 border rounded-md">Clear</button>
                  <button onClick={next} className="px-4 py-2 bg-blue-600 text-white rounded-md">{current < topic.questions.length -1 ? 'Next' : 'Finish'}</button>
                </div>
              </div>
            </div>

            <div className="mt-3 text-sm text-gray-500">Answered: {Object.keys(answers).length} / {topic.questions.length}</div>
          </div>
        )}

        {topic && showResults && (
          <div className="mt-4">
            <div className="p-4 border rounded-xl">
              <h2 className="text-xl font-semibold">Results — {topic.topic}</h2>
              <p className="mt-2">Score: <strong>{score()}</strong> / {topic.questions.length}</p>

              <div className="mt-4 space-y-3">
                {topic.questions.map((q,idx)=>{
                  const user = answers[q.id];
                  const correct = q.answer;
                  return (
                    <div key={q.id} className="p-3 border rounded-md">
                      <div className="font-medium">{idx+1}. {q.q}</div>
                      <div className="mt-2 grid grid-cols-1 md:grid-cols-2 gap-2">
                        {q.options.map((opt,i)=> (
                          <div key={i} className={`p-2 rounded ${i===correct? 'bg-green-50 border border-green-200' : ''} ${i===user && i!==correct ? 'bg-red-50 border border-red-200' : ''}`}>
                            <div className="flex items-center gap-3">
                              <div className="w-6 font-mono">{String.fromCharCode(65+i)}</div>
                              <div>{opt}</div>
                            </div>
                          </div>
                        ))}
                      </div>
                      <div className="mt-2 text-sm text-gray-600">Your answer: {user===undefined? '—' : String.fromCharCode(65+user)} • Correct: {String.fromCharCode(65+correct)}</div>
                    </div>
                  );
                })}
              </div>

              <div className="mt-4 flex gap-2">
                <button onClick={() => { setTopicIndex(null); setShowResults(false); }} className="px-4 py-2 border rounded-md">Back to topics</button>
                <button onClick={() => { setCurrent(0); setAnswers({}); setShowResults(false); }} className="px-4 py-2 bg-yellow-500 rounded-md text-white">Retry Topic</button>
              </div>
            </div>
          </div>
        )}

      </div>
    );
  }

  ReactDOM.createRoot(document.getElementById('root')).render(<QuizApp />);
  </script>

  <footer class="fixed bottom-4 left-0 right-0 flex justify-center pointer-events-none">
    <div class="bg-white/80 backdrop-blur rounded-full px-4 py-2 text-xs text-gray-600 border pointer-events-auto">Deploy this single HTML file to Netlify — works out of the box. Want randomization, timer, CSV export, or an admin panel? Ask and I'll add it.</div>
  </footer>
</body>
</html>
